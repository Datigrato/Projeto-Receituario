<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Cadastro</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <div class="titulo">Receituário ONLINE</div>

    <div class="container">
        <h2>Cadastro</h2>

        <div class="form-group">
            <label for="tipo">Você é:</label>
            <select id="tipo" onchange="exibirCampos()">
                <option value="">-- Selecione --</option>
                <option value="paciente">Paciente</option>
                <option value="medico">Médico</option>
                <option value="farmacia">Farmácia</option>
            </select>
        </div>

        <form id="formCadastro">
            <div id="camposPessoa" class="hidden">
                <!-- Campos para Paciente/Médico -->
                <div class="form-group">
                    <label for="nome">Nome completo:</label>
                    <input type="text" id="nome" name="nome" required>
                </div>
                <div class="form-group">
                    <label for="dataNascimento">Data de nascimento:</label>
                    <input type="date" id="dataNascimento" name="dataNascimento" required>
                </div>
                <div class="form-group">
                    <label for="sexo">Sexo:</label>
                    <select id="sexo" name="sexo" required>
                        <option value="">-- Selecione --</option>
                        <option value="masculino">Masculino</option>
                        <option value="feminino">Feminino</option>
                        <option value="outro">Outro</option>
                    </select>
                </div>
                <div class="form-group" id="campoCPF">
                    <label for="cpf">CPF:</label>
                    <input type="text" id="cpf" name="cpf" required pattern="\d{11}" maxlength="11" placeholder="Apenas números">
                </div>
                <div class="form-group hidden" id="campoCRM">
                    <label for="crm">CRM:</label>
                    <input type="text" id="crm" name="crm" reqquired pattern="\d{6}" maxlength="6" placeholder="Ex: 123456-SP">
                </div>
            </div>

            <div id="camposFarmacia" class="hidden">
                <!-- Campos para Farmácia -->
                <div class="form-group">
                    <label for="nomeFantasia">Nome Fantasia:</label>
                    <input type="text" id="nomeFantasia" name="nomeFantasia" required>
                </div>
                <div class="form-group">
                    <label for="cnpj">CNPJ:</label>
                    <input type="text" id="cnpj" name="cnpj" required pattern="\d{14}" placeholder="Apenas números">
                </div>
            </div>

            <button type="submit">Cadastrar</button>
        </form>
    </div>
</body>
<script>
    function exibirCampos() {
        const tipo = document.getElementById('tipo').value;
        const camposPessoa = document.getElementById('camposPessoa');
        const camposFarmacia = document.getElementById('camposFarmacia');
        const campoCRM = document.getElementById('campoCRM');
        const inputCRM = document.getElementById('crm');

        // Esconder todos os grupos
        camposPessoa.classList.add('hidden');
        camposFarmacia.classList.add('hidden');
        campoCRM.classList.add('hidden');
        inputCRM.required = false;

        if (tipo === 'paciente') {
            camposPessoa.classList.remove('hidden');
        } else if (tipo === 'medico') {
            camposPessoa.classList.remove('hidden');
            campoCRM.classList.remove('hidden');
            inputCRM.required = true;
        } else if (tipo === 'farmacia') {
            camposFarmacia.classList.remove('hidden');
        }
        // Limita o CPF para apenas números e 11 dígitos
        document.getElementById('cpf').addEventListener('input', function(e) {
            this.value = this.value.replace(/\D/g, '').slice(0, 11);
        });
    }
</script>
</body>

</html>